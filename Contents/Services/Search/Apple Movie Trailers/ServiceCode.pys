AMT_SITE_URL = 'http://trailers.apple.com'
AMT_SEARCH_URL = 'http://trailers.apple.com/trailers/home/scripts/quickfind.php?q=%s'

####################################################################################################
def Search(query):

	oc = ObjectContainer(title1='Apple Movie Trailers', title2='Search Results')
	trailers = JSON.ObjectFromURL(AMT_SEARCH_URL % String.Quote(query))

	if trailers['error'] == False:
		for trailer in trailers['results']:
			url = '%s/%s/#trailer' % (AMT_SITE_URL, trailer['location'].strip('/'))

			try:
				oc.add(URLService.MetadataObjectForURL(url))
			except:
				pass

	return oc
